<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TPR - Ministère des Enfants</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="enfants.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Merriweather:ital,opsz,wght@0,18..144,300..900;1,18..144,300..900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Playfair+Display:wght@700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />

  </head>

  <body>
    <audio id="correct-sound" src="sons/correct.mp3" preload="auto"></audio>
    <audio id="incorrect-sound" src="sons/incorrect.mp3" preload="auto"></audio>

    <header class="main-header">
      <div class="container">
        <nav class="navbar navbar-expand-lg">
          <a class="navbar-brand logo" href="/index.html">
            <img
              src="/images_Church/logo.jpg"
              alt="Logo"
              class="logo-img me-2"
            />
          </a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div
            class="collapse navbar-collapse justify-content-end"
            id="navbarNav"
          >
            <ul class="navbar-nav align-items-center">
              <li class="nav-item">
                <a class="nav-link" href="/index.html"
                  ><i class="fas fa-home me-1"></i> Accueil</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/jeunesse.html"
                  ><i class="fas fa-users-line me-1"></i> Jeunesse</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/sermons.html"
                  ><i class="fas fa-book-bible me-1"></i> Sermons</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/contact.html"
                  ><i class="fas fa-envelope me-1"></i> Contact</a
                >
              </li>
              <li class="nav-item nav-item-cta ms-lg-3">
                <a class="nav-link btn btn-custom-primary" href="#">
                  <i class="fa-solid fa-gift me-1"></i> Faire Un Don
                </a>
              </li>
            </ul>
          </div>
        </nav>
      </div>
    </header>

    <main>
      <section
        class="children-hero text-white text-center d-flex align-items-center justify-content-center"
      >
        <div class="container">
          <h1 class="display-3 fw-bold mb-3">Le Ministère des Enfants</h1>
          <p class="lead">
            Un endroit amusant et sûr pour que vos enfants grandissent dans la
            foi.
          </p>
        </div>
      </section>

      <section class="section-padding bg-light">
        <div class="container text-center">
          <h2 class="section-title mb-4">Notre Mission</h2>
          <p class="lead">
            Nous enseignons les histoires de la Bible à travers des activités
            amusantes, des chansons joyeuses et des jeux. Chaque dimanche, vos
            enfants apprennent les vérités de l'Évangile dans un environnement
            adapté à leur âge.
          </p>
        </div>
      </section>

      <section class="section-padding">
        <div class="container">
          <h2 class="text-center section-title mb-5">Activités et Horaires</h2>
          <div class="row text-center g-4">
            <div class="col-md-4">
              <div class="card p-4 h-100 shadow-sm children-card">
                <i class="fas fa-bible fa-3x mb-3 text-primary"></i>
                <h3 class="h5 fw-bold">Étude Biblique</h3>
                <p>
                  Des leçons bibliques interactives adaptées aux différentes
                  tranches d'âge.
                </p>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card p-4 h-100 shadow-sm children-card">
                <i class="fas fa-music fa-3x mb-3 text-primary"></i>
                <h3 class="h5 fw-bold">Chants et Musique</h3>
                <p>
                  Des chansons chrétiennes joyeuses pour célébrer notre foi
                  ensemble.
                </p>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card p-4 h-100 shadow-sm children-card">
                <i
                  class="fas fa-hand-holding-heart fa-3x mb-3 text-primary"
                ></i>
                <h3 class="h5 fw-bold">Activités Manuelles</h3>
                <p>
                  Des projets créatifs et des jeux pour apprendre et s'amuser.
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="section-padding bg-light">
        <div class="container text-center">
          <h2 class="section-title mb-5">Quiz Biblique Amusant !</h2>
          <div class="row justify-content-center">
            <div class="col-lg-8">
              <div class="card p-4 shadow-sm">
                <div id="quiz-container">
                  <div id="question-text" class="h5 mb-4"></div>
                  <p class="h6 text-end">
                    Score: <span id="current-score">0</span> /
                    <span id="total-questions-display">10</span>
                  </p>
                  <div
                    class="progress mb-4"
                    role="progressbar"
                    aria-label="Progression du Quiz"
                    aria-valuenow="0"
                    aria-valuemin="0"
                    aria-valuemax="10"
                  >
                    <div
                      id="quiz-progress-bar"
                      class="progress-bar progress-bar-striped progress-bar-animated"
                      style="width: 0%"
                    ></div>
                  </div>
                  <div
                    id="progress-text"
                    class="text-end text-muted small mb-4"
                  >
                    Question 1 sur 10
                  </div>
                  <div id="feedback-text" class="mb-3"></div>
                  <div
                    id="options-container"
                    class="d-grid gap-2 col-10 mx-auto"
                  ></div>
                  <button
                    id="next-button"
                    class="btn btn-primary mt-4"
                    style="display: none"
                  >
                    Question suivante
                  </button>
                </div>
                <div id="result-container" class="mt-4" style="display: none">
                  <h4 class="text-success">Quiz Terminé !</h4>
                  <p>
                    Votre score est de <span id="score">0</span> sur
                    <span id="total-questions">0</span>.
                  </p>
                  <button
                    class="btn btn-secondary mt-3"
                    onclick="location.reload()"
                  >
                    Recommencer le Quiz
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="section-padding bg-light">
        <div class="container">
          <h2 class="text-center section-title mb-4">Quand nous retrouver ?</h2>
          <div class="row justify-content-center text-center">
            <div class="col-lg-8">
              <ul class="list-group list-group-flush children-list">
                <li
                  class="list-group-item d-flex justify-content-between align-items-center"
                >
                  Cours d'école du dimanche
                  <span class="badge children-badge">Après le culte</span>
                </li>
                <li
                  class="list-group-item d-flex justify-content-between align-items-center"
                >
                  Événements spéciaux
                  <span class="badge children-badge"
                    >Suivez-nous pour les dates !</span
                  >
                </li>
              </ul>
            </div>
          </div>
        </div>
      </section>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="questions.js"></script>
    <script>
      let questions = [];
      let currentQuestionIndex = 0;
      let score = 0;
      const totalQuestionsToAsk = 10;

      const questionText = document.getElementById("question-text");
      const feedbackText = document.getElementById("feedback-text");
      const quizProgressBar = document.getElementById("quiz-progress-bar");
      const progressText = document.getElementById("progress-text");
      const optionsContainer = document.getElementById("options-container");
      const nextButton = document.getElementById("next-button");
      const quizContainer = document.getElementById("quiz-container");
      const resultContainer = document.getElementById("result-container");
      const scoreSpan = document.getElementById("score");
      const totalQuestionsSpan = document.getElementById("total-questions");
      const correctSound = document.getElementById("correct-sound");
      const incorrectSound = document.getElementById("incorrect-sound");
      const currentScoreDisplay = document.getElementById("current-score");
      const totalQuestionsDisplay = document.getElementById(
        "total-questions-display"
      );

      function getRandomQuestions(num) {
        const shuffled = [...allQuestions].sort(() => 0.5 - Math.random());
        return shuffled.slice(0, num);
      }

      function showQuestion() {
        const currentQuestion = questions[currentQuestionIndex];
        questionText.textContent = currentQuestion.question;
        optionsContainer.innerHTML = "";
        feedbackText.textContent = "";

        const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
        quizProgressBar.style.width = `${progress}%`;
        progressText.textContent = `Question ${currentQuestionIndex + 1} sur ${
          questions.length
        }`;

        currentQuestion.options.forEach((option) => {
          const button = document.createElement("button");
          button.textContent = option;
          button.classList.add("btn", "btn-outline-primary", "quiz-option");
          button.addEventListener("click", () => selectOption(option));
          optionsContainer.appendChild(button);
        });

        nextButton.style.display = "none";
      }

      function selectOption(selectedOption) {
        const currentQuestion = questions[currentQuestionIndex];
        const isCorrect = selectedOption === currentQuestion.answer;

        document.querySelectorAll(".quiz-option").forEach((button) => {
          button.disabled = true;
          if (button.textContent === currentQuestion.answer) {
            button.classList.add("btn-success");
          } else if (button.textContent === selectedOption) {
            button.classList.add("btn-danger");
          }
        });

        if (isCorrect) {
          score++;
          feedbackText.textContent = "✅ Bonne réponse !";
          feedbackText.className = "text-success mb-3";
          correctSound.play();
          currentScoreDisplay.textContent = score;
        } else {
          feedbackText.textContent = `❌ Mauvaise réponse. La bonne réponse était : ${currentQuestion.answer}`;
          feedbackText.className = "text-danger mb-3";
          incorrectSound.play();
        }

        nextButton.style.display = "block";
      }

      function nextQuestion() {
        currentQuestionIndex++;
        if (currentQuestionIndex < questions.length) {
          showQuestion();
        } else {
          showResults();
        }
      }

      function showResults() {
        quizContainer.style.display = "none";
        resultContainer.style.display = "block";
        scoreSpan.textContent = score;
        totalQuestionsSpan.textContent = questions.length;
        quizProgressBar.style.width = "100%";
      }

      nextButton.addEventListener("click", nextQuestion);

      questions = getRandomQuestions(totalQuestionsToAsk);
      showQuestion();
    </script>
  </body>
</html>
